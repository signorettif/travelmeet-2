twttr=window.twttr||{},twttr.conversion=function(){var t="https://analytics.twitter.com/i/adsct?p_id=Twitter&p_user_id=0",e="//t.co/i/adsct?p_id=Twitter&p_user_id=0";return{trackBase:function(t,e,n,i){if(e&&n){var r=t+"&merch_id="+encodeURIComponent(e);r+="&event="+encodeURIComponent(n),i&&(r+="&value="+encodeURIComponent(i)),this.buildPixel(r)}},trackPidBase:function(t,e,n){if(e){var i="";if("object"==typeof n){"tw_sale_amount"in n||(n.tw_sale_amount=0),"tw_order_quantity"in n||(n.tw_order_quantity=0);for(var r in n)n.hasOwnProperty(r)&&(i+="&"+(encodeURIComponent(r)+"="+encodeURIComponent(n[r])))}else i="&tw_sale_amount=0&tw_order_quantity=0";var o=t+"&txn_id="+encodeURIComponent(e)+i,a=this.getIframeStatus();if(o+="&tw_iframe_status="+encodeURIComponent(a.value),a===this.IframeStatusCodes.IN_IFRAME&&""!=document.referrer){var d=encodeURIComponent(document.referrer);o+="&tw_document_referrer="+d}var s=this.getHiddenProp();this.isDocumentHidden()?this.buildPixelWhenVizChange(o,s):this.buildPixel(o)}},track:function(n,i,r){this.trackBase(t,n,i,r),this.trackBase(e,n,i,r)},trackPid:function(n,i){this.trackPidBase(t,n,i),this.trackPidBase(e,n,i)},buildPixel:function(t){var e=new Image;e.src=t},isDocumentHidden:function(){var t=this.getHiddenProp();return t&&document[t]},getHiddenProp:function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null},buildPixelWhenVizChange:function(t,e){var n=e.replace(/[H|h]idden/,"")+"visibilitychange",i=function(){this.buildPixel(t),document.removeEventListener(n,i,!1)}.bind(this);document.addEventListener(n,i,!1)},getIframeStatus:function(){try{return this.isIframed()?this.IframeStatusCodes.NOT_IN_IFRAME:this.IframeStatusCodes.IN_IFRAME}catch(t){return this.IframeStatusCodes.ERROR}},isIframed:function(){return window.self===window.top},IframeStatusCodes:{NOT_IN_IFRAME:{value:0},IN_IFRAME:{value:1},ERROR:{value:2}}}}();